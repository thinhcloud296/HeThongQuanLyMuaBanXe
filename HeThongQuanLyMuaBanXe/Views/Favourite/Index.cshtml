@model List<HeThongQuanLyMuaBanXe.Models.Favourite>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}
<div class="pt-4">
    <table class="table table-bordered">
        <tr>
            <th>STT</th>
            <td>Tên sản phẩm</td>
            <td>Số lượng</td>
            <td>Tổng thành tiền (Giá gốc)</td>
            <td></td>
        </tr>

        @{int i = 1; int totPrice = 0;}

        @foreach (var item in Model)
        {
            <tr>
                <td>@i</td>
                <td>@item.Xe.TenXe</td>
                <td>
                    @using (Html.BeginForm("UpdateQuantity", "Favourite", FormMethod.Get))
                    {
                        <input type="number" value="@item.SoLuong" name="quan" min="1" style="width: 70px;" />
                        <input type="hidden" name="proid" value="@item.MaXe" />
                        <input type="submit" value="Cập nhật" class="btn btn-primary" />
                    }
                </td>
                <td>
                    @{
                        int Price = item.SoLuong * (int)item.Xe.GiaBanXe;
                        totPrice += Price;
                        i++;
                    }
                    @Price.ToString() $
                </td>
                <td>
                    <a href="/Favourite/Delete/@item.MaXe">Xóa</a>
                </td>
            </tr>
        }
        <tr>
            <td colspan="3" class="text-center fw-bold">Tổng tiền</td>
            <td class="text-center fw-bold">@totPrice.ToString() $</td>
        </tr>
    </table>

    <a href="/Home">Tiếp tục mua hàng</a>
</div>